# ğŸ”¥ Lab 3: Primera AplicaciÃ³n Web Progresiva (PWA) sin Angular

En este laboratorio vamos a crear **una PWA mÃ­nima** con **HTML, CSS y JavaScript puro**, que **funciona offline** gracias a un **Service Worker**.

---

## ğŸ› ï¸ Pasos

### 1. Crear la estructura del proyecto

ArmÃ¡ una carpeta nueva con estos archivos:

```
/pwa-simple
  â”œâ”€â”€ index.html
  â”œâ”€â”€ app.js
  â”œâ”€â”€ service-worker.js
  â””â”€â”€ manifest.webmanifest
```

---

### 2. `index.html`

```html
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Mi Primera PWA</title>
  <link rel="manifest" href="manifest.webmanifest">
</head>
<body>
  <h1>Mi Primera App Web Progresiva</h1>
  <button id="save">Guardar tarea</button>

  <script src="app.js"></script>
</body>
</html>
```

---

### 3. `app.js`

```javascript
// Registrar el Service Worker
if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('service-worker.js')
    .then(reg => console.log('Service Worker registrado.', reg))
    .catch(err => console.error('Error al registrar el Service Worker.', err));
}

// Simulamos una acciÃ³n
document.getElementById('save').addEventListener('click', () => {
  alert('Tarea guardada!');
});
```

---

### 4. `service-worker.js`

```javascript
const CACHE_NAME = 'pwa-simple-cache-v1';
const URLS_TO_CACHE = [
  '/',
  '/index.html',
  '/app.js',
  '/manifest.webmanifest'
];

// InstalaciÃ³n
self.addEventListener('install', event => {
  event.waitUntil(
    caches.open(CACHE_NAME)
      .then(cache => cache.addAll(URLS_TO_CACHE))
  );
});

// ActivaciÃ³n
self.addEventListener('activate', event => {
  console.log('Service Worker activado');
});

// Fetch: Responder con cachÃ©
self.addEventListener('fetch', event => {
  event.respondWith(
    caches.match(event.request)
      .then(response => response || fetch(event.request))
  );
});
```

---

### 5. `manifest.webmanifest`

```json
{
  "name": "Mi Primera PWA",
  "short_name": "PWA",
  "start_url": "/",
  "display": "standalone",
  "background_color": "#ffffff",
  "theme_color": "#0000ff",
  "icons": []
}
```

*Dejamos los iconos vacÃ­os para simplificar.*

---

### 6. Probar la PWA

1. LevantÃ¡ un servidor local (no abrir directamente el archivo, tiene que ser con servidor):

```bash
npm install -g http-server
http-server -p 8080
```

2. EntrÃ¡ en [http://localhost:8080](http://localhost:8080).

3. Abri la pestaÃ±a **Application** de Chrome DevTools:
   - Vas a ver el Service Worker activo.
   - Vas a ver que podÃ©s "instalar" la app.

4. Pone el navegador en **Modo Offline** y recargÃ¡:
   - Â¡La app sigue funcionando!

---

### 7. Entregable

- Capturas de:
  - El Service Worker activo en DevTools.
  - El sitio funcionando en modo offline.
  - El manifiesto cargado correctamente.

---

# âœ… Â¿QuÃ© aprendimos?

- CÃ³mo una web puede funcionar offline usando Service Workers.
- CÃ³mo se define un manifiesto para instalar una app en el dispositivo.
- El flujo bÃ¡sico de una PWA **sin frameworks**.
